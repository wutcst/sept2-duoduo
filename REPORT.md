# 软件工程实训任务二报告：小组协同开发

## 任务目的
* 巩固强化软件编程规范
* 提高面向对象软件建模与抽象能力
* 培养小组协同开发能力
* 掌握基于Maven的软件项目管理机制
* 掌握基于Github的小组协同开发工具和平台
* 了解DevOps软件开发流程

## 任务内容
* 创建软件开发小组
* 针对样例代码工程进行小组讨论，确定功能扩充需求点
* 基于Github中的issue管理功能明确工作任务并为组员分配工作任务
* 基于小组商定的分支模型进行软件功能开发，并按开发流程进行代码测试、提交、归并和同步
* 代码提交到远程仓库后，应进行自动化代码格式规范检查和测试以确保功能符合需求设计
* 完成前述各项任务后，可尝试进行代码自动化打包，自动生成可供执行的jar文件

## 任务分工
* 在github平台创建任务issue并为所有组员分配任务
### 郝一鸣
* GUI界面的设计与实现
### 钱科均
* command类的改写与实现
### 雷霆杰
* player类以及方法的实现
### 张家齐
* 基础类和地图的设计

## 设计思路
* 基础类的设计：item类以及Game中room类
* Player类的设计：基于item以及room类的设计，吸收实现第一次实践内容中Game类中方法，实现go、back、take、give、tp等功能
* Commands类的设计：包括Commands包以及ZuulCommands包，沿袭了第一次实践通过commands的实现方法，在收到GUI层面生成的Command消息后，在本层进行command分析，并向下通过Player对象调用相应方法来实现对应功能
* GUI层的设计：界面的布置，actionlistener编写，调用CommandGUI中的方法将点击事件转换为自定义的command命令，并向下传输到command层对应的execute方法。

## 类图
![UML类图](https://github.com/wutcst/sept2-duoduo/blob/da1d4a50e125ec0c5e96b85581bb1f39cdb5ce77/UML%E7%B1%BB%E5%9B%BE.png)

## 具体实现
### look指令
* 一个房间里可以存放物件，每个物件可以有一个描述和一个重量值，玩家进入一个房间后，可以通过“look”命令查看当前房间的信息以及房间内的所有物品信息；  
* 在房间中设置一些物品，并设置其重量和相应的描述，其中用HashMap存放房间中存在的武器，及其相应描述，使用look指令可以查看当前房间的物品的相关信息；  

### back指令
* 主要思路就是沿着与上次行走相反的方向移动，若没有相关移动记录则无法执行。   
* 用lastDirection变量保存上次行走的方向，然后创建一个函数getbackdirection（）用来获取与lastdirection相反的方向，然后走向该方向的房间即可   

### 随机传送功能房间
* 在游戏中增加具有传输功能的房间，每当玩家进入这个房间，就会被随机地传输到另一个房间；  
* 在本次实践中，设置tp房间是具有随即传输功能的房间，可以利用random函数进行产生随机的功能，然后利用switch进行匹配
* 在此基础上要注意的是，因为是随机传输，所以就清除了back所存储的上一个步骤的方向，所以在进入随即传输的房间后传输到新的房间就不能进行back操作。  

### take指令
* 在游戏中增加具有拾取物品的功能，yonghashmap存放所拾取的物品，玩家进入房间后可先查看当前房间具有的物品，执行拾取某物品，首先要判断该房间内是否存在该物品
* 然后为该物品初始化一个对象，判断该物品是否超重，若不超重，则调用remove方法移除该物品，并加入到inventory的hashmap中去

### drop指令
* 识别命令之后，首先判断玩家是否 持有该物品，若有，则调用remove移除inventory的hashmap中的该物品，并加入房间物品的hashmap中去

### give指令
* give指令需要判断给的人是否有该物品，还要判断接受的人是否再该房间内，同时要判断接收人接受物品后是否超重

